<div class='container'>
  <div class='row'>
    <div class="col-sm-12">
  		<h1>Editing Book</h1>
      <!-- MEMO: bookの新規作成formを定義 -->
      <!-- model: に「なんのモデルのデータを作るのか？」を入れる -->
      <!-- |f|はお約束みたいなの。form_withの機能を使うとき、f.機能ってやるので、定義。 -->
      <%= form_with model: @book do |f| %>
        <!-- MEMO: railsの仕組みで、bookというインスタンスのsaveが失敗したら、book.errorsにエラー文が入る。 -->
        <!-- any?というrubyのメソッドで、存在するかどうか、を確認。あったらtrueが帰る -->
        <% if @book.errors.any? %>
          <p class="alert">
            <div id="error_explanation">
              <ul>
                <!-- MEMO: errorsのなかにfull_messagesという配列があって、その配列をeachで回して、エラー文を出力 -->
                <!-- eachは配列の中身(複数ある)を順番に一つ一つ処理してくもの。do endの中に、具体的に何をするか？をかく。 -->
                <!-- 中身一つ一つを、|msg|っていう名前で定義してる。 -->
                <!-- そのmsgを使って、do endの中に、具体的に何をするか？をかく。 -->
                <% @book.errors.full_messages.each do |msg| %>
                  <li>error</li>
                  <li><%= msg %></li>
                <% end %>
              </ul>
            </div>
          </p>
        <% end %>
        <div class="field row">
          <h4>Title</h4>
          <div class="col-xs-12 book_title">
            <%= f.text_field :title %>
          </div>
        </div>

        <div class="field row">
          <h4>Opinion</h4>
          <div class="col-xs-12 book_body">
            <%= f.text_field :body %>
          </div>
        </div>
        <div>
        <%= f.submit 'Update Book', class: "btn btn-primary col-xs-12" %>
      </div>
    <% end %>
  		<%= link_to 'Show', @book %> |
  		<%= link_to 'Back', books_path, class: "back" %>
  </div>
</div>